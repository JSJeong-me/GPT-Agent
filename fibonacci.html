<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ê³„ì‚°ê¸°</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: "Pretendard", "Noto Sans KR", -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top, #f7f8fc, #dfe4ea);
        color: #222;
      }

      .card {
        width: min(680px, 90vw);
        background: rgba(255, 255, 255, 0.9);
        border-radius: 24px;
        padding: 32px 40px;
        box-shadow: 0 24px 48px rgba(31, 41, 55, 0.1);
        backdrop-filter: blur(6px);
      }

      h1 {
        margin-top: 0;
        font-size: clamp(1.8rem, 3vw + 1rem, 2.6rem);
        letter-spacing: -0.03em;
      }

      p.description {
        margin-top: 8px;
        margin-bottom: 32px;
        color: #445;
        line-height: 1.6;
      }

      form {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        align-items: flex-end;
      }

      label {
        display: flex;
        flex-direction: column;
        gap: 8px;
        font-weight: 600;
      }

      input[type="number"] {
        font: inherit;
        padding: 12px 16px;
        border-radius: 12px;
        border: 1px solid #cbd5f5;
        min-width: 220px;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #4c6ef5;
        box-shadow: 0 0 0 4px rgba(76, 110, 245, 0.2);
      }

      button {
        font: inherit;
        font-weight: 700;
        padding: 12px 24px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, #4c6ef5, #15aabf);
        color: white;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      button:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 24px rgba(76, 110, 245, 0.25);
      }

      button:active {
        transform: translateY(1px);
        box-shadow: none;
      }

      .result {
        margin-top: 32px;
        background: #f4f6fb;
        border-radius: 18px;
        padding: 24px;
        line-height: 1.7;
        color: #1d3557;
        white-space: pre-line;
        word-break: break-word;
      }

      .result.hidden {
        display: none;
      }

      .error {
        color: #c92a2a;
        margin-top: 12px;
        font-weight: 600;
      }

      @media (max-width: 520px) {
        .card {
          padding: 28px 24px;
          border-radius: 20px;
        }

        form {
          flex-direction: column;
          align-items: stretch;
        }

        button {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <main class="card">
      <h1>í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ê³„ì‚°ê¸°</h1>
      <p class="description">
        ì›í•˜ëŠ” í•­ì˜ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ë©´ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ê³¼ ë§ˆì§€ë§‰ í•­ì˜ ê°’ì„ ê³„ì‚°í•´ ë“œë¦½ë‹ˆë‹¤.
        0ë¶€í„° ì‹œì‘í•˜ë©°, ê° í•­ì€ ë°”ë¡œ ì•ì˜ ë‘ í•­ì„ ë”í•´ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
      <form id="fibonacci-form" aria-describedby="helper-text">
        <label>
          ê³„ì‚°í•  í•­ì˜ ê°œìˆ˜
          <input
            id="terms"
            type="number"
            min="1"
            max="200"
            value="10"
            required
            inputmode="numeric"
            aria-describedby="helper-text"
          />
        </label>
        <button type="submit">ê³„ì‚°í•˜ê¸°</button>
      </form>
      <p id="helper-text">
        ğŸ’¡ 1 ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ë©´ ì²˜ìŒë¶€í„° í•´ë‹¹ ê°œìˆ˜ë§Œí¼ì˜ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ë¥¼ ë³´ì—¬ ë“œë¦½ë‹ˆë‹¤.
      </p>
      <p id="error" class="error" role="alert" aria-live="assertive"></p>
      <section id="result" class="result hidden" aria-live="polite"></section>
    </main>

    <script>
      const form = document.getElementById("fibonacci-form");
      const termsInput = document.getElementById("terms");
      const errorBox = document.getElementById("error");
      const resultBox = document.getElementById("result");

      const MAX_TERMS = 200;

      function fibonacciSequence(count) {
        if (count <= 0) {
          return [];
        }

        const sequence = [];

        for (let i = 0; i < count; i += 1) {
          if (i === 0) {
            sequence.push(0n);
          } else if (i === 1) {
            sequence.push(1n);
          } else {
            sequence.push(sequence[i - 1] + sequence[i - 2]);
          }
        }

        return sequence;
      }

      function renderResult(sequence) {
        if (sequence.length === 0) {
          resultBox.textContent = "í‘œì‹œí•  ìˆ˜ì—´ì´ ì—†ìŠµë‹ˆë‹¤.";
          return;
        }

        const formattedSequence = sequence
          .map((value, index) => `${index + 1}ë²ˆì§¸ í•­: ${value.toString()}`)
          .join("\n");

        const lastValue = sequence[sequence.length - 1];

        resultBox.textContent = `${formattedSequence}\n\në§ˆì§€ë§‰ í•­(${sequence.length}ë²ˆì§¸)ëŠ” ${lastValue.toString()} ì…ë‹ˆë‹¤.`;
      }

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const count = Number.parseInt(termsInput.value, 10);

        if (Number.isNaN(count)) {
          errorBox.textContent = "ìˆ«ìë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
          resultBox.classList.add("hidden");
          return;
        }

        if (count < 1) {
          errorBox.textContent = "1 ì´ìƒì˜ ì •ìˆ˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
          resultBox.classList.add("hidden");
          return;
        }

        if (count > MAX_TERMS) {
          errorBox.textContent = `ìµœëŒ€ ${MAX_TERMS}í•­ê¹Œì§€ë§Œ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
          resultBox.classList.add("hidden");
          return;
        }

        errorBox.textContent = "";

        const sequence = fibonacciSequence(count);
        renderResult(sequence);
        resultBox.classList.remove("hidden");
      });
    </script>
  </body>
</html>
